```mermaid
flowchart TD
    A[开始空投程序] --> B[串行处理模式]
    
    B --> C[交易1: 发送]
    C -->|成功| D1[✅ 交易1成功]
    C -->|失败| E1[重试机制]
    
    E1 --> F1[重试计数器 +1]
    F1 --> G1{重试次数 < 3?}
    G1 -->|是| H1[等待500ms]
    H1 --> I1[重新发送交易1]
    I1 --> J1{交易结果}
    J1 -->|成功| D1
    J1 -->|失败| F1
    
    G1 -->|否| K1[❌ 交易1最终失败<br/>总共尝试4次]
    K1 --> Z[🛑 程序终止<br/>显示失败详情]
    
    D1 --> L1[等待500ms]
    L1 --> M[交易2: 发送]
    M -->|成功| D2[✅ 交易2成功]
    M -->|失败| E2[重试机制]
    
    E2 --> F2[重试计数器 +1]
    F2 --> G2{重试次数 < 3?}
    G2 -->|是| H2[等待500ms]
    H2 --> I2[重新发送交易2]
    I2 --> J2{交易结果}
    J2 -->|成功| D2
    J2 -->|失败| F2
    
    G2 -->|否| K2[❌ 交易2最终失败]
    K2 --> Z
    
    D2 --> N[等待500ms]
    N --> O[交易3: 发送]
    O --> P[... 继续处理剩余交易]
    
    P --> Q[所有交易处理完成]
    Q --> R{有任何失败交易?}
    R -->|是| Z
    R -->|否| S[🔄 等待1分钟]
    
    S --> T[自动对账]
    T --> U{对账发现失败?}
    U -->|是| Z
    U -->|否| V[🎉 100%成功完成]
    
    style A fill:#e1f5fe
    style V fill:#c8e6c9
    style Z fill:#ffcdd2
    style D1 fill:#c8e6c9
    style D2 fill:#c8e6c9
    style K1 fill:#ffcdd2
    style K2 fill:#ffcdd2
```

## 📋 串行重试机制说明

### 处理模式
- **执行方式**: 完全串行，一个接一个处理
- **并发数量**: 1个（无并发）
- **交易间延迟**: 500ms

### 重试机制
- **重试次数**: 每个交易最多3次重试（总共4次尝试机会）
- **重试间隔**: 500ms
- **触发条件**: 单个交易失败时立即重试
- **失败处理**: 任何交易最终失败，程序立即终止

### 最终检查
- **零容错**: 不接受任何失败交易，有失败立即终止程序
- **自动对账**: 所有交易成功后，等待1分钟进行区块链确认
- **对账失败**: 如果对账发现区块链上的交易失败，程序终止

### 成功率保障
- ✅ 每个交易最多有4次尝试机会
- ✅ 串行处理避免nonce冲突
- ✅ 固定延迟确保网络稳定
- ✅ 严格验证：程序宁可终止也不接受部分失败
- ✅ 100%成功率要求，零容错政策