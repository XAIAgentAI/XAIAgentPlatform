(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2765:(e,s,r)=>{Promise.resolve().then(r.bind(r,5682))},5682:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var a=r(5155),t=r(2115),l=r(7517),i=r(4505),n=r(2823),c=r(9606),m=r(2679),d=r(3415);let o=d.z.object({username:d.z.string().min(3).max(50),email:d.z.string().email()});function u(){let[e,s]=(0,t.useState)([]),[r,d]=(0,t.useState)(!1),[u,x]=(0,t.useState)(null),h=(0,c.mN)({resolver:(0,m.u)(o),defaultValues:{username:"",email:""}});async function f(e){try{d(!0),x(null);let r=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create user")}let a=await r.json();s(e=>[a,...e]),h.reset()}catch(e){console.error("Failed to create user:",e),x(e instanceof Error?e.message:"Failed to create user")}finally{d(!1)}}async function j(){try{d(!0),x(null);let e=await fetch("/api/users");if(!e.ok)throw Error("Failed to fetch users");let r=await e.json();s(r)}catch(e){console.error("Failed to fetch users:",e),x(e instanceof Error?e.message:"Failed to fetch users")}finally{d(!1)}}return(0,t.useEffect)(()=>{j()},[]),(0,a.jsxs)("main",{className:"container mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-8",children:"XAIAgent Platform"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"p-6 rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(l.A,{className:"w-6 h-6"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Create User"})]}),(0,a.jsxs)("form",{onSubmit:h.handleSubmit(f),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Username"}),(0,a.jsx)("input",{...h.register("username"),className:"w-full p-2 border rounded-md",placeholder:"Enter username"}),h.formState.errors.username&&(0,a.jsx)("p",{className:"text-sm text-red-500 mt-1",children:h.formState.errors.username.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,a.jsx)("input",{...h.register("email"),type:"email",className:"w-full p-2 border rounded-md",placeholder:"Enter email"}),h.formState.errors.email&&(0,a.jsx)("p",{className:"text-sm text-red-500 mt-1",children:h.formState.errors.email.message})]}),u&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:u}),(0,a.jsxs)("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[r&&(0,a.jsx)(i.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create User"]})]})]}),(0,a.jsxs)("div",{className:"p-6 rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(n.A,{className:"w-6 h-6"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"User List"})]}),r?(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(i.A,{className:"h-6 w-6 animate-spin"})}):0===e.length?(0,a.jsx)("p",{className:"text-center text-gray-500",children:"No users found"}):(0,a.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,a.jsxs)("div",{className:"p-3 rounded-lg border border-gray-200",children:[(0,a.jsx)("p",{className:"font-medium",children:e.username}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["Created: ",new Date(e.createdAt).toLocaleString()]})]},e.id))})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[206,441,517,358],()=>s(2765)),_N_E=e.O()}]);